# OIDC Configuration for OpenGrok
# Template: templates/oidc.properties.j2

# Keycloak OIDC endpoints
oidc.discovery.url={{ keycloak_url }}/realms/{{ keycloak_realm }}/.well-known/openid_configuration
oidc.client.id={{ keycloak_client_id }}
oidc.client.secret={{ keycloak_client_secret }}
oidc.redirect.uri={{ opengrok_url }}/callback

# Token validation
oidc.token.validation.enabled=true
oidc.token.validation.audience={{ keycloak_client_id }}

# User mapping
oidc.user.name.attribute=preferred_username
oidc.user.email.attribute=email
oidc.user.groups.attribute=groups

# Session configuration
oidc.session.timeout=3600
oidc.session.refresh.enabled=true

# Security settings
oidc.state.parameter.enabled=true
oidc.nonce.parameter.enabled=true

# Logging
oidc.logging.level=INFO

# Authorization settings
oidc.authorization.enabled=true
oidc.authorization.default.group=users
oidc.authorization.admin.group=admins
